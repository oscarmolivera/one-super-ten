<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">Players</h1>
    <%= link_to 'New Player', new_player_path, class: 'btn btn-primary' %>
  </div>

  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>Full Name</th>
          <th>Schools</th>
          <th>Categories</th>
          <th>Position</th>
          <th>Date of Birth</th>
          <th>Exonerated?</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @players.each do |player| %>
          <tr>
            <td><strong><%= player.full_name %></strong></td>

            <td>
              <%= player.schools.map(&:name).to_sentence.presence || '—' %>
            </td>

            <td>
              <%= player.categories.map(&:name).to_sentence.presence || '—' %>
            </td>

            <td>
              <%= player.position.presence || '—' %>
            </td>

            <td>
              <%= player.date_of_birth&.strftime("%B %d, %Y") || '—' %>
            </td>

            <td>
              <% if player.exonerated_for? %>
                <span class="badge bg-success">Yes</span>
              <% else %>
                <span class="badge bg-secondary">No</span>
              <% end %>
            </td>

            <td>
              <%= link_to player_path(player), class: 'btn btn-sm btn-outline-primary me-1', title: 'Show' do %>
                <i class="bi bi-eye"></i>
              <% end %>

              <%= link_to edit_player_path(player), class: 'btn btn-sm btn-outline-secondary me-1', title: 'Edit' do %>
                <i class="bi bi-pencil"></i>
              <% end %>

              <%= link_to new_exoneration_path(player_id: player.id), class: 'btn btn-sm btn-outline-success', title: 'Exonerate Player' do %>
                <i class="bi bi-cash-coin"></i>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>