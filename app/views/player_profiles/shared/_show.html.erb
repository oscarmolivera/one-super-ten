<section class="content">
	<div class="row">
		<div class="col-12 col-lg-5 col-xl-4"><!-- Profile Left Side -->
			<div class="box box-widget widget-user"><!-- User Basic Information Card-->
				<div class="widget-user-header bg-img bbsr-0 bber-0 position-relative" style="background: url(<%= asset_path('faviconbg.png') %>) center center;" data-overlay="5">
					<h3 class="widget-user-username text-white"><%= @player.public_full_name %></h3>
					<% if @player.schools.any? %>
						<div class="d-flex flex-wrap gap-2 mt-2">
							<% @player.schools.each_with_index do |school, i| %>
								<span class="badge-school badge-school-<%= i %>"><%= school.name %></span>
							<% end %>
						</div>
					<% end %>
				</div>
				<div class="widget-user-image" style="position: relative; top: 30px; margin-top: -120px; z-index: 10;">
					<%= player_profile_image(@player, class: 'rounded-circle' , alt: "Foto de perfil") %>
				</div>
				<div class="box-footer"><!-- Other Info  & Social Media -->
					<div class="row"><!-- Age DominantSide Category -->
						<div class="col-sm-4">
							<div class="description-block">
								<span class="description-text">Edad</span>
								<h5 class="description-header"><%= "#{@player.age} años" %></h5>
							</div><!-- /.description-block -->
						</div><!-- /.col -->
						<div class="col-sm-4 be-1 bs-1">
							<div class="description-block">
								<span class="description-text">Pie Dominante</span>
								<h5 class="description-header"><%= @player.preferent_side %></h5>
							</div><!-- /.description-block -->
						</div><!-- /.col -->
						<div class="col-sm-4">
							<div class="description-block">
								<span class="description-text">Categoría</span>
								<h5 class="description-header"><%= @player.categories.first.name %></h5>
							</div><!-- /.description-block -->
						</div><!-- /.col -->
					</div><!-- /.row -->
					<div class="row"><!-- Social Media Links -->
						<div class="col-12">
							<%= render partial: "player_profiles/shared/social_links", locals: { player: @player } %>
						</div>
					</div>
				</div>
			</div>
			<div class="box box-body px-3 px-md-4"><!-- Player Jersey & Position -->
				<div class="box-group row g-3">
					
					<!-- Jersey Number Card -->
					<div class="col-6">
						<div class="box pull-up rounded-4 border-0 shadow-sm bg-secondary-subtle" style="background-image: url(<%= asset_path('jersey-1.png') %>); background-position: right bottom; background-repeat: no-repeat; background-size: 100px;">
							<div class="box-body d-flex flex-column justify-content-between" style="min-height: 150px;">
								<div class="text-start">
									<h5 class="fw-bold text-dark mb-1">Dorsal</h5>
									<p class="text-muted small mb-2">Temporada 2025</p>
								</div>
								<div class="jersey-number-box text-center bg-white text-dark fw-bold rounded-pill px-3 py-2 mx-auto" style="font-size: 2.5rem;">
									<%= @player.jersey_selection.presence || "-" %>
								</div>
							</div>
						</div>
					</div>

					<!-- Position Card -->
					<div class="col-6">
						<div class="box pull-up rounded-4 border-0 shadow-sm bg-warning-subtle" style="background-image: url(<%= asset_path(position_background_image(@player)) %>); background-position: right bottom; background-repeat: no-repeat; background-size: 100px;">
							<div class="box-body d-flex flex-column justify-content-between" style="min-height: 150px;">
								<div class="text-start">
									<h5 class="fw-bold text-dark mb-1"><%= @player.public_position %></h5>
									<p class="text-muted small mb-0">Posición</p>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
			<div class="box"><!-- Player TeamMates -->
				<div class="box-body">
					<div class="flexbox align-items-baseline mb-20">
						<h6 class="text-uppercase ls-2">Mi Categoría</h6>
						<small>Num de Jugadores Categoria</small>
					</div>
					<div class="gap-items-2 gap-y">
						<a class="avatar" href="#">
							<%= image_tag 'vendor/1.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/3.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/4.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/5.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/6.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/7.jpg', alt: '' %>
						</a>
						<a class="avatar" href="#">
							<%= image_tag 'vendor/8.jpg', alt: '' %>
						</a>
						<a class="avatar avatar-more" href="#">+15</a>
					</div>
				</div>
				<div class="box-footer">
					<a class="text-uppercase d-blockls-1 text-fade" href="#">Otras Categorias</a>
				</div>
			</div><!-- /.box -->
		</div><!-- /.col-12 Left Side -->

		<div class="col-12 col-lg-7 col-xl-8"><!-- Profile Right Side -->
			<div class="nav-tabs-custom">
				<ul class="nav nav-pills mb-20">
					<li class=" nav-item"> <a href="#publicprofile" class="nav-link active" data-bs-toggle="tab" aria-expanded="false">Perfil Publico</a> </li>
					<li class="nav-item"> <a href="#editprofile" class="nav-link" data-bs-toggle="tab" aria-expanded="false">Editar Perfil</a> </li>
				</ul>

				<div class="tab-content">
					<div class="active tab-pane" id="publicprofile">
						<%= render 'player_profiles/shared/public_profile' %>
					</div><!-- /.tab-pane publicprofile-->
					<div class="tab-pane" id="editprofile">
						<%= render 'player_profiles/shared/edit_profile' %>
					</div><!-- /.tab-pane editprofile-->
				</div><!-- /.tab-content -->
			</div><!-- /.nav-tabs-custom -->
		</div><!-- /.col-12 Right Side -->
	</div><!-- /.row -->
</section>
<style>
	.badge-school {
		background-color: #f0f0f0;
		color: #333;
		font-weight: 600;
		font-size: 0.75rem;
		padding: 6px 12px;
		border-radius: 999px;
		white-space: nowrap;
		box-shadow: 0 2px 4px rgba(0,0,0,0.05);
		transition: all 0.2s ease-in-out;
	}

	.badge-school-0 { background-color: #ffc107; } /* yellow */
	.badge-school-1 { background-color: #20c997; } /* teal */
	.badge-school-2 { background-color: #d63384; } /* pink */
	.badge-school-3 { background-color: #0dcaf0; } /* cyan */
</style>