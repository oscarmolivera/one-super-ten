<h2>Match Details</h2>
<p><strong>Opponent:</strong> <%= @match.opponent_name %></p>
<p><strong>Location:</strong> <%= @match.location %></p>
<p><strong>Scheduled At:</strong> <%= l(@match.scheduled_at, format: :long) %></p>
<p><strong>Type:</strong> <%= @match.match_type.titleize %></p>

<hr>

<h3>CallUps</h3>

<% if @match.call_ups.any? %>
  <% @match.call_ups.each do |call_up| %>
    <div class="card mb-3">
      <div class="card-header">
        <strong><%= call_up.name %></strong> —
        <span class="badge <%= status_badge_class(call_up.status) %>"><%= call_up.status.titleize %></span>
        <small class="text-muted float-end"><%= l(call_up.call_up_date, format: :short) %></small>
      </div>
      <div class="card-body">
        <h6>Players Called:</h6>
        <ul class="list-group list-group-flush">
          <% call_up.call_up_players.includes(:player).each do |cup| %>
            <li class="list-group-item d-flex justify-content-between">
              <%= cup.player.full_name %>
              <span class="badge bg-<%= cup.attendance == 'present' ? 'success' : (cup.attendance == 'absent' ? 'danger' : 'secondary') %>">
                <%= cup.attendance.titleize %>
              </span>
            </li>
          <% end %>
        </ul>
      </div>
    </div>
  <% end %>
<% else %>
  <p>No CallUps assigned yet.</p>
<% end %>

<%= link_to "➕ New CallUp for this Match", new_call_up_path(match_id: @match.id), class: "btn btn-primary" %>