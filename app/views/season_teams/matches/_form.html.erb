<%= form_with(model: match, 
              url: season_team_matches_path(season_team), 
              data: { turbo_frame: "new_match_form" },
              html: { multipart: true }) do |f| %>
  <div class="card shadow-sm border-0">
    <div class="card-body">
      <div class="row g-3">
        <div class="col-12">
          <%= f.label :plays_as, "Selecciona condición de juego", class: "form-label d-block" %>
          <div class="form-check form-check-inline">
            <%= f.radio_button :plays_as, 'home', class: "form-check-input", id: "play_home", data: { match_form_target: "homeRadio" } %>
            <%= f.label :plays_as, "Jugar como Local", value: 'home', class: "form-check-label", for: "play_home" %>
          </div>
          <div class="form-check form-check-inline">
            <%= f.radio_button :plays_as, 'away', class: "form-check-input", id: "play_away" %>
            <%= f.label :plays_as, "Jugar como Visitante", value: 'away', class: "form-check-label", for: "play_away" %>
          </div>
        </div>

        <div class="col-md-6">
          <%= f.label :rival_id, "Equipo Rival", class: "form-label" %>
          <%= f.collection_select :rival_id,
            season_team.rivals, :id, :name, { prompt: 'Seleccione Rival --->' }, 
            class: 'form-control', required: true,
            data: { match_form_target: "opponentSelect" }  %>
        </div>

        <div class="col-md-6">
          <%= f.label :location, "Ubicación", class: "form-label" %>
          <%= f.text_field :location, class: "form-control", placeholder: "Ej: Estadio Central" %>
        </div>

        <div class="col-md-6">
          <div class="row mb-3">
            <%= f.label :match_type, "Tipo de Partido", class: "form-label" %>
            <%= f.select :match_type, options_for_select([["Amistoso", "friendly"], ["Torneo", "tournament"], ["Práctica", "practice"]], match.match_type), { prompt: "Seleccionar tipo" }, class: "form-select" %>
          </div>
        </div>

        <div class="col-md-6">
          <div class="row mb-3">
            <%= f.label :scheduled_at, "Día y Hora", class: "form-label" %>
            <div class="col-sm-10">
              <div class="input-group">
                <span class="input-group-text">
                  <i class="bi bi-calendar-date"></i>
                </span>
                <%= f.datetime_local_field :scheduled_at, class: "form-control", id: "startDateTime" %>
              </div>
              <div class="form-text">Seleccione Fecha y Hora.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer text-end">
      <%= f.hidden_field :stage_id, value: season_team.stages.last.id %>
      <%= f.hidden_field :tournament_id, value: season_team.tournament_id %>
      <%= f.hidden_field :team_of_interest_id, value: season_team.id %>

      <%= f.submit "Guardar Partido", class: "btn btn-primary" %>
    </div>
  </div>
<% end %>
