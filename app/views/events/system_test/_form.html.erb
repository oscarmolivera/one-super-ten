<%= form_with(model: [@event], local: true, html: { class: "needs-validation", novalidate: true }) do |f| %>
  <div class="row">
    <div class="col-md-8">
      <div class="mb-3">
        <%= f.label :title, class: "form-label" %>
        <%= f.text_field :title, class: "form-control", required: true %>
      </div>

      <div class="mb-3">
        <%= f.label :description, class: "form-label" %>
        <%= f.text_area :description, class: "form-control", rows: 4 %>
      </div>

      <div class="mb-3">
        <%= f.label :location_name, class: "form-label" %>
        <%= f.text_field :location_name, class: "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :location_address, class: "form-label" %>
        <%= f.text_field :location_address, class: "form-control" %>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <%= f.label :start_time, class: "form-label" %>
          <%= f.datetime_local_field :start_time, class: "form-control" %>
        </div>
        <div class="col-md-6 mb-3">
          <%= f.label :end_time, class: "form-label" %>
          <%= f.datetime_local_field :end_time, class: "form-control" %>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <%= f.label :event_type, class: "form-label" %>
          <%= f.select :event_type, Event.event_types.keys.map { |e| [e.humanize, e] }, {}, class: "form-select" %>
        </div>

        <div class="col-md-6 mb-3">
          <%= f.label :status, class: "form-label" %>
          <%= f.select :status, Event.statuses.keys.map { |s| [s.humanize, s] }, {}, class: "form-select" %>
        </div>
      </div>

      <div class="form-check mb-3">
        <%= f.check_box :allow_reinforcements, class: "form-check-input" %>
        <%= f.label :allow_reinforcements, class: "form-check-label" %>
      </div>

      <div class="form-check mb-3">
        <%= f.check_box :is_public, class: "form-check-input" %>
        <%= f.label :is_public, class: "form-check-label" %>
      </div>

      <div class="form-check mb-3">
        <%= f.check_box :external_organizer, class: "form-check-input", data: { controller: "toggle", toggle_target: "checkbox" } %>
        <%= f.label :external_organizer, class: "form-check-label" %>
      </div>

      <div class="mb-3">
        <%= f.label :organizer_name, "External Organizer Name", class: "form-label" %>
        <%= f.text_field :organizer_name, class: "form-control" %>
      </div>

      <div class="mb-3">
        <%= f.label :coach_id, "Coach", class: "form-label" %>
        <%= f.collection_select :coach_id, User.with_role(:coach, ActsAsTenant.current_tenant), :id, :full_name, include_blank: true, class: "form-select" %>
      </div>

      <div class="mb-3">
        <%= f.label :category_ids, "Categories", class: "form-label" %>
        <%= f.collection_select :category_ids, Category.all, :id, :name, { multiple: true }, class: "form-select" %>
      </div>
    </div>
  </div>

  <div class="mt-4">
    <%= f.submit class: "btn btn-primary" %>
    <%= link_to 'Back', events_path, class: "btn btn-secondary" %>
  </div>
<% end %>