<h2>Assign Assistants to <%= @coach.full_name %></h2>

<h4>Current Assistants</h4>
<ul class="list-group mb-4">
  <% @coach.assistants.each do |assistant| %>
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <%= assistant.full_name %> (<%= assistant.email %>)
      <%= link_to "Remove", remove_assistant_coach_path(@coach, assistant_id: assistant.id), data: { turbo: true, turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn btn-sm btn-danger" %>
    </li>
  <% end %>
</ul>

<h4>Add Assistant</h4>
<%= form_with url: assign_assistant_coach_path(@coach), method: :post, local: true do %>
  <div class="input-group mb-3">
    <%= select_tag :assistant_id,
        options_from_collection_for_select(@available_assistants, :id, :full_name),
        prompt: "Select assistant", class: "form-select" %>
    <button type="submit" class="btn btn-primary">Assign</button>
  </div>
<% end %>

<%= link_to 'Back to Coach', coaches_path, class: 'btn btn-secondary mt-3' %>


